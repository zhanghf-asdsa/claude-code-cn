<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>会话管理 - Claude Code 中文文档</title>
  <link rel="stylesheet" href="../../assets/css/style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
</head>
<body>
  <aside class="sidebar">
    <div class="brand">
      <a href="../../index.html" style="text-decoration: none; color: inherit;">Claude Code 中文文档</a>
    </div>
    <input class="search-input" type="text" placeholder="搜索文档..." id="searchInput">
    <nav class="doc-nav">
      <details class="nav-section">
        <summary>快速开始</summary>
        <ul>
          <li><a href="../getting-started/installation.html">安装</a></li>
          <li><a href="../getting-started/first-steps.html">第一步</a></li>
        </ul>
      </details>
      <details class="nav-section" open>
        <summary>概念</summary>
        <ul>
          <li><a href="overview.html">概述</a></li>
          <li><a href="session-management.html" style="color: var(--color-link);">会话管理</a></li>
        </ul>
      </details>
      <details class="nav-section">
        <summary>命令</summary>
        <ul>
          <li><a href="../commands/built-in.html">内置命令</a></li>
          <li><a href="../commands/slash-commands.html">斜杠命令</a></li>
        </ul>
      </details>
      <details class="nav-section">
        <summary>技能</summary>
        <ul>
          <li><a href="../skills/creating-skills.html">创建技能</a></li>
          <li><a href="../skills/skill-reference.html">技能参考</a></li>
        </ul>
      </details>
      <details class="nav-section">
        <summary>MCP</summary>
        <ul>
          <li><a href="../mcp/what-is-mcp.html">什么是 MCP</a></li>
          <li><a href="../mcp/using-mcp.html">使用 MCP</a></li>
        </ul>
      </details>
    </nav>
  </aside>

  <main class="content">
    <article class="doc-article">
      <div class="breadcrumbs">首页 > 概念</div>

      <h1>会话管理</h1>

      <p>理解 Claude Code 如何管理会话和上下文，可以帮助您更有效地与 AI 协作。</p>

      <h2>什么是会话？</h2>

      <p>每次您运行 <code>claude</code> 命令时，都会创建一个新的会话。会话是一个持续的环境，在其中：</p>

      <ul>
        <li><strong>对话历史</strong> - 所有消息和响应都被保留</li>
        <li><strong>文件上下文</strong> - Claude 会跟踪已读取的文件</li>
        <li><strong>操作记录</strong> - 执行的命令和修改会被记录</li>
        <li><strong>项目理解</strong> - Claude 会逐步了解您的项目结构</li>
      </ul>

      <h2>会话生命周期</h2>

      <h3>启动会话</h3>
      <pre><code class="language-bash">cd /path/to/your/project
claude</code></pre>

      <h3>会话期间</h3>
      <p>在会话中，您可以：</p>
      <ul>
        <li>提出问题和请求</li>
        <li>让 Claude 读取和修改文件</li>
        <li>运行命令和测试</li>
        <li>使用斜杠命令</li>
      </ul>

      <h3>结束会话</h3>
      <p>使用 <code>Ctrl+C</code> 或输入 <code>/exit</code> 来结束会话。</p>

      <h2>上下文窗口</h2>

      <p>Claude 有一个有限的上下文窗口，这意味着它只能记住最近一定数量的对话和文件内容。以下是一些管理上下文的技巧：</p>

      <ul>
        <li><strong>使用 /clear</strong> - 清除对话历史，开始新话题</li>
        <li><strong>聚焦当前任务</strong> - 避免在一次会话中处理太多不相关的任务</li>
        <li><strong>明确引用</strong> - 在长对话中，明确提到您引用的文件或概念</li>
      </ul>

      <h2>会话持久化</h2>

      <p>默认情况下，会话结束后，对话历史不会被保存。但是：</p>

      <ul>
        <li><strong>Git 集成</strong> - 所有文件修改都会被 Git 跟踪</li>
        <li><strong>会话恢复</strong> - 可以通过配置启用会话恢复功能</li>
        <li><strong>导出对话</strong> - 可以将重要对话导出为文档</li>
      </ul>

      <h2>多会话管理</h2>

      <p>对于复杂项目，您可能需要同时处理多个任务：</p>

      <ul>
        <li><strong>终端标签</strong> - 在不同的终端标签中运行多个 Claude 会话</li>
        <li><strong>任务分离</strong> - 为不同的功能模块使用独立的会话</li>
        <li><strong>会话命名</strong> - 给每个会话一个明确的任务目标</li>
      </ul>

      <h2>最佳实践</h2>

      <ol>
        <li><strong>一个任务一个会话</strong> - 避免在单个会话中混合多个不相关的任务</li>
        <li><strong>定期提交</strong> - 在完成重要更改后提交代码</li>
        <li><strong>使用 /clear</strong> - 当切换话题时清除历史</li>
        <li><strong>保存重要对话</strong> - 导出有价值的对话作为文档</li>
        <li><strong>利用项目上下文</strong> - 让 Claude 有机会理解完整的代码库</li>
      </ol>

      <h2>常见问题</h2>

      <h3>Q: Claude 会记住以前的对话吗？</h3>
      <p>A: 不会，每次 <code>claude</code> 都是一个新会话。对话历史仅在当前会话中保留。</p>

      <h3>Q: 如何让 Claude 理解我的整个项目？</h3>
      <p>A: 让 Claude 读取关键文件，或者要求它扫描项目结构。它会逐步建立理解。</p>

      <h3>Q: 会话有超时限制吗？</h3>
      <p>A: 没有，只要终端窗口保持打开，会话就会一直持续。</p>

      <h2>下一步</h2>
      <p>了解<a href="../commands/built-in.html">内置命令</a>来更好地控制您的会话。</p>

      <div class="doc-nav-footer">
        <a class="prev-link" href="overview.html">← 概述</a>
        <a class="next-link" href="../commands/built-in.html">内置命令 →</a>
      </div>
    </article>
  </main>

  <div class="search-results" id="searchResults"></div>

  <script src="../../assets/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markdown.min.js"></script>
</body>
</html>
